syntax = "proto3";

package conf.v1;

option go_package = "github.com/alec404/kratos-proto/api/gen/go/conf/v1";

// 指标配置
message Metrics {
  // 导出器类型数组，可选值：prometheus, otlp-grpc, otlp-http
  // 注意：otlp-grpc 和 otlp-http 不能同时启用，只能选其一
  // 示例：["prometheus", "otlp-grpc"] 表示同时启用 Prometheus 和 OTLP gRPC
  repeated string exporters = 1;

  // OTLP 配置（根据 exporters 中的 otlp-grpc 或 otlp-http 使用）
  string endpoint = 2;// Collector 地址
  int32 interval = 3;// 推送间隔（秒），默认：15
  bool insecure = 4;// 是否使用不安全连接，默认：true

  // 环境配置
  string env = 5;// 运行环境：dev、test、production，默认读 GO_ENV

  // 网络接口监控配置
  repeated string network_interfaces = 6;// 监控的网络接口列表，默认：["eth0", "en0", "enp6s0"]

  // Runtime metrics 配置
  bool enable_runtime_metrics = 7;// 是否启用 Go runtime 指标，默认：true
  int32 runtime_read_memstats_interval = 8;// runtime 内存统计读取间隔（秒），默认：5
}
